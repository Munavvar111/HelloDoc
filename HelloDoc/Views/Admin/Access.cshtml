@model List<DataAccessLayer.DataModels.Role>

@{
    Layout = "~/Views/Shared/_Layout4.cshtml";
}
<partial name="ToasterPartialView"></partial>
<div class="container p-3">
    <div class="d-flex justify-content-between my-3">
        <div class="d-flex">
            <span class="fs-2 text-muted fw-bold">Account Access</span>
        </div>
        <div class="d-flex justify-content-end">
            <a asp-controller="Admin" asp-action="Index" asp-area=""
               class="btn btn-outline-info d-flex align-items-center">
                <span class="material-symbols-outlined"> chevron_left </span> Back
            </a>
        </div>
    </div>
</div>
<div class="container  rounded-3">
    <div class="d-flex border bg-white p-3 justify-content-end">
        <a class="btn btn-outline-info" asp-action="CreateAccess" asp-controller="Admin">Createe Access</a>
    </div>
    <div class="bg-white border justify-content-center">
        <table class="table">
            <colgroup>
                <col span="1" style="width: 35%;">
                <col span="1" style="width: 50%;">
                <col span="1" style="width: 15%;">
            </colgroup>
            <thead class="table-secondary">
                <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Account Type</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            @foreach (var item in Model)
            {

                <tbody>
                    <tr>
                        <td>@item.Name</td>
                        <td>@item.Accounttype</td>
                        <td>
                            <div class="d-flex gap-1">
                                <a class="btn btn-outline-info" asp-action="EditAccess" asp-route-roleid="@item.Roleid">Edit</a>
                                <a class="btn btn-outline-info" type="button" onclick="confirmDelete('@item.Roleid')">Delete</a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            }
        </table>
    </div>
</div>
<script>
    function confirmDelete(roleId) {
        swal.fire({
            title: "Are you sure?",
            text: "Once deleted, you will not be able to recover this role!",
            icon: "warning",
            buttons: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete them!'
        })
            .then((willDelete) => {
                if (willDelete.isConfirmed) {
                    window.location.href = "/Admin/DeleteRole?roleId=" + roleId;
                } else {

                }
            });
    }
</script>