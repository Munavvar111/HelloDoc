@{
	ViewData["Title"] = "ShiftReview";
	Layout = "~/Views/Shared/_Layout4.cshtml";
}
<div class="container">

	<div class="d-flex justify-content-between my-3">
		<div class="d-flex">
			<span class="fs-2 text-muted fw-bold">Shifts Review</span>
		</div>
		<div class="d-flex justify-content-end">
			<a asp-controller="Admin" asp-action="Scheduling" asp-area=""
			   class="btn btn-outline-info d-flex align-items-center">
				<span class="material-symbols-outlined"> chevron_left </span> Back
			</a>
		</div>
	</div>
	<div class="container bg-white p-3">
		<div class="d-flex justify-content-between flex-wrap">

		<div class="">
					<select  class="p-2 px-3 form-control " id="regionreview">
						<option value="0" selected>Regions</option>
						@foreach (var region in ViewBag.regions)
						{
							<option value="@region.Regionid">@region.Name - (@region.Abbreviation)</option>
						}
					</select>
		</div>
			<div class="d-flex flex-column flex-md-row gap-2 flex-wrap">
				<a class="btn btn-success mt-2 " asp-action="Scheduling">View Current Month Shift</a>
				<button class="btn btn-success mt-2" id="approveSelectedButton" type="button">Approved Selected</button>
				<button id="deleteSelectedButton" class="btn btn-danger mt-2">Delete Selected</button>
		</div>
		</div>
		<div id="requestedshiftpartial">

		</div>
	</div>
</div>
<script>
	$(document).ready(function () {

		FetchShift();
		$("#regionreview").on("change", function () {
			console.log("fii")
			FetchShift();
		});
		function FetchShift() {
			var region = $("#regionreview").val();
			$.ajax({
				method: "GET",
				url: "/Admin/GetReviewShift",
				data: { region: region },
				success: function (response) {
					if (response.code == 401) {

						location.reload();
					}
					else {
						console.log("Function Success")
						$('#requestedshiftpartial').html(response)

					}

				},
				error: function () {
					console.log("Function Fail")
				}
			})
		}
	});
</script>
